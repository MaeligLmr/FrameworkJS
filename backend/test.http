### Configuration
@baseUrl = http://localhost:3000
@token = 

@articleId = 

# Instructions:
# 1) Lancer le serveur backend (npm run dev dans backend/) + le docker pour la bdd
# 2) Exécuter la requête Login ci-dessous, copier le token JWT renvoyé
#    et coller la valeur dans la variable `@token` en haut de ce fichier
#    (remplace la chaîne vide après `@token =`).
# 3) Exécuter les autres requêtes (Create Article, Get Articles, etc.).

### Ping root
GET {{baseUrl}}/

### Signup
POST {{baseUrl}}/api/auth/signup
Content-Type: application/json

{
  "username": "Test User",
  "email": "test.user@example.com",
  "password": "Password123!"
}

### Login (récupérer le token JWT)
POST {{baseUrl}}/api/auth/login
Content-Type: application/json

{
  "email": "test.user@example.com",
  "password": "Password123!"
}

# Après login, mettez le token ici (par ex. @token = eyJ...)

### Create Article (requires Authorization)
POST {{baseUrl}}/api/articles
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "title": "Mon premier article de test",
  "content": "Ceci est le contenu de test de l'article. Il doit être suffisamment long pour valider les règles de validation.",
  "author": "Test User",
  "category": "Technologie"
}

### Get All Articles
GET {{baseUrl}}/api/articles
Authorization: Bearer {{token}}

### Get Article By ID (remplacer {{articleId}} par l'id créé)
GET {{baseUrl}}/api/articles/{{articleId}}
Authorization: Bearer {{token}}

### Update Article (replace {{articleId}})
PUT {{baseUrl}}/api/articles/{{articleId}}
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "title": "Titre mis à jour",
  "content": "Contenu modifié pour le test."
}

### Publish Article
PATCH {{baseUrl}}/api/articles/{{articleId}}/publish
Authorization: Bearer {{token}}

### Unpublish Article
PATCH {{baseUrl}}/api/articles/{{articleId}}/unpublish
Authorization: Bearer {{token}}

### Delete Article
DELETE {{baseUrl}}/api/articles/{{articleId}}
Authorization: Bearer {{token}}

### Create Comment on Article
POST {{baseUrl}}/api/articles/{{articleId}}/comments
Content-Type: application/json

{
  "contenu": "Super article, merci !",
  "auteur": "Commenter",
  "email": "commenter@example.com"
}

### Get Comments for Article
GET {{baseUrl}}/api/articles/{{articleId}}/comments
GET http://localhost:3000/